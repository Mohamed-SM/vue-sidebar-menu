!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["vue-sidebar-menu"]=e():t["vue-sidebar-menu"]=e()}(window,(function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=6)}([function(t,e,i){"use strict";function s(t,e,i,s,o,n,l,r){var a,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),s&&(h.functional=!0),n&&(h._scopeId="data-v-"+n),l?(a=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(l)},h._ssrRegister=a):o&&(a=r?function(){o.call(this,this.$root.$options.shadowRoot)}:o),a)if(h.functional){h._injectStyles=a;var c=h.render;h.render=function(t,e){return a.call(e),c(t,e)}}else{var d=h.beforeCreate;h.beforeCreate=d?[].concat(d,a):[a]}return{exports:t,options:h}}i.d(e,"a",(function(){return s}))},function(t,e,i){"use strict";function s(t,e){void 0===e&&(e={});for(var i=function(t){for(var e=[],i=0;i<t.length;){var s=t[i];if("*"!==s&&"+"!==s&&"?"!==s)if("\\"!==s)if("{"!==s)if("}"!==s)if(":"!==s)if("("!==s)e.push({type:"CHAR",index:i,value:t[i++]});else{var o=1,n="";if("?"===t[r=i+1])throw new TypeError('Pattern cannot start with "?" at '+r);for(;r<t.length;)if("\\"!==t[r]){if(")"===t[r]){if(0===--o){r++;break}}else if("("===t[r]&&(o++,"?"!==t[r+1]))throw new TypeError("Capturing groups are not allowed at "+r);n+=t[r++]}else n+=t[r++]+t[r++];if(o)throw new TypeError("Unbalanced pattern at "+i);if(!n)throw new TypeError("Missing pattern at "+i);e.push({type:"PATTERN",index:i,value:n}),i=r}else{for(var l="",r=i+1;r<t.length;){var a=t.charCodeAt(r);if(!(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||95===a))break;l+=t[r++]}if(!l)throw new TypeError("Missing parameter name at "+i);e.push({type:"NAME",index:i,value:l}),i=r}else e.push({type:"CLOSE",index:i,value:t[i++]});else e.push({type:"OPEN",index:i,value:t[i++]});else e.push({type:"ESCAPED_CHAR",index:i++,value:t[i++]});else e.push({type:"MODIFIER",index:i,value:t[i++]})}return e.push({type:"END",index:i,value:""}),e}(t),s=e.prefixes,n=void 0===s?"./":s,l="[^"+o(e.delimiter||"/#?")+"]+?",r=[],a=0,h=0,c="",d=function(t){if(h<i.length&&i[h].type===t)return i[h++].value},m=function(t){var e=d(t);if(void 0!==e)return e;var s=i[h],o=s.type,n=s.index;throw new TypeError("Unexpected "+o+" at "+n+", expected "+t)},u=function(){for(var t,e="";t=d("CHAR")||d("ESCAPED_CHAR");)e+=t;return e};h<i.length;){var p=d("CHAR"),f=d("NAME"),v=d("PATTERN");if(f||v){var b=p||"";-1===n.indexOf(b)&&(c+=b,b=""),c&&(r.push(c),c=""),r.push({name:f||a++,prefix:b,suffix:"",pattern:v||l,modifier:d("MODIFIER")||""})}else{var w=p||d("ESCAPED_CHAR");if(w)c+=w;else if(c&&(r.push(c),c=""),d("OPEN")){b=u();var g=d("NAME")||"",C=d("PATTERN")||"",_=u();m("CLOSE"),r.push({name:g||(C?a++:""),pattern:g&&!C?l:C,prefix:b,suffix:_,modifier:d("MODIFIER")||""})}else m("END")}}return r}function o(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function n(t){return t&&t.sensitive?"":"i"}function l(t,e,i){return function(t,e,i){void 0===i&&(i={});for(var s=i.strict,l=void 0!==s&&s,r=i.start,a=void 0===r||r,h=i.end,c=void 0===h||h,d=i.encode,m=void 0===d?function(t){return t}:d,u="["+o(i.endsWith||"")+"]|$",p="["+o(i.delimiter||"/#?")+"]",f=a?"^":"",v=0,b=t;v<b.length;v++){var w=b[v];if("string"==typeof w)f+=o(m(w));else{var g=o(m(w.prefix)),C=o(m(w.suffix));if(w.pattern)if(e&&e.push(w),g||C)if("+"===w.modifier||"*"===w.modifier){var _="*"===w.modifier?"?":"";f+="(?:"+g+"((?:"+w.pattern+")(?:"+C+g+"(?:"+w.pattern+"))*)"+C+")"+_}else f+="(?:"+g+"("+w.pattern+")"+C+")"+w.modifier;else f+="("+w.pattern+")"+w.modifier;else f+="(?:"+g+C+")"+w.modifier}}if(c)l||(f+=p+"?"),f+=i.endsWith?"(?="+u+")":"$";else{var x=t[t.length-1],y="string"==typeof x?p.indexOf(x[x.length-1])>-1:void 0===x;l||(f+="(?:"+p+"(?="+u+"))?"),y||(f+="(?="+p+"|"+u+")")}return new RegExp(f,n(i))}(s(t,i),e,i)}function r(t,e,i){return t instanceof RegExp?function(t,e){if(!e)return t;var i=t.source.match(/\((?!\?)/g);if(i)for(var s=0;s<i.length;s++)e.push({name:s,prefix:"",suffix:"",modifier:"",pattern:""});return t}(t,e):Array.isArray(t)?function(t,e,i){var s=t.map((function(t){return r(t,e,i).source}));return new RegExp("(?:"+s.join("|")+")",n(i))}(t,e,i):l(t,e,i)}i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return h}));const a={data:()=>({active:!1,childActive:!1,itemShow:!1}),created(){this.initActiveState(),this.initShowState(),this.$router||window.addEventListener("hashchange",()=>{this.initActiveState()})},methods:{isLinkActive(t){return this.matchRoute(t.href)||this.isAliasActive(t)},isChildActive(t){return t.some(t=>this.isLinkActive(t)||!!t.child&&this.isChildActive(t.child))},isAliasActive(t){return!!t.alias&&(Array.isArray(t.alias)?t.alias.some(t=>this.matchRoute(t)):this.matchRoute(t.alias))},matchRoute(t=[]){if(!Array.isArray(t))return RegExp(r(t)).test(window.location.pathname);for(let e=0;e<t.length;e++)if(RegExp(r(t[e])).test(t))return!0},clickEvent(t){if(this.emitItemClick(t,this.item),!this.item.href&&(!this.item.child||this.mobileItem)||this.item.disabled)return void t.preventDefault();if(!this.mobileItem&&this.isCollapsed&&this.firstItem){let t=this.item.child;this.$parent.$emit("touchClickItem",t)}let e=this.firstItem&&this.showOneChild&&!this.showChild;!this.mobileItem&&this.item.child?(this.item.href||t.preventDefault(),e?this.activeShow===this._uid?this.setActiveShow(!1):this.setActiveShow(!0,this._uid):this.itemShow=!this.itemShow):!this.mobileItem&&e&&this.emitActiveShow(null)},setActiveShow(t,e=null){this.emitActiveShow(t?e:null),this.itemShow=t},initActiveState(){this.active=!(!this.item||!this.item.href)&&this.isLinkActive(this.item),this.childActive=!(!this.item||!this.item.child)&&this.isChildActive(this.item.child)},initShowState(){this.item&&this.item.child&&(this.itemShow=this.isLinkActive(this.item)||this.isChildActive(this.item.child),this.showOneChild&&!this.showChild&&this.firstItem&&(this.active||this.childActive)&&this.emitActiveShow(this._uid))}},computed:{isRouterLink(){return this.$router&&this.item&&void 0!==this.item.href},show(){return!(!this.item||!this.item.child)&&(this.showChild?this.showChild:this.firstItem&&this.showOneChild?this._uid===this.activeShow:!!this.mobileItem||this.itemShow)}},watch:{$route(){this.initActiveState()}},inject:["emitActiveShow","emitItemClick"]},h={methods:{expandEnter(t){t.style.height=t.scrollHeight+"px"},expandAfterEnter(t){t.style.height="auto"},expandBeforeLeave(t){this.isCollapsed?t.style.display="none":t.style.height=t.scrollHeight+"px"}}}},function(t,e,i){},function(t,e,i){"use strict";var s={props:{items:{type:Array,required:!0},showChild:{type:Boolean,default:!1},rtl:{type:Boolean,default:!1}},beforeCreate(){this.$options.components.Item=i(4).default}},o=i(0),n=Object(o.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vsm-list"},t._l(t.items,(function(e,s){return i("item",{key:s,attrs:{item:e,"show-child":t.showChild,rtl:t.rtl}},[t._t("dropdown-icon",null,{slot:"dropdown-icon"})],2)})),1)}),[],!1,null,null,null);e.a=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(3),o=i(1),n={components:{ListItem:s.a},mixins:[o.b,o.a],props:{item:{type:Object,required:!0},firstItem:{type:Boolean,default:!1},isCollapsed:{type:Boolean},mobileItem:{type:Boolean,default:!1},activeShow:{type:Number,default:null},showChild:{type:Boolean,default:!1},showOneChild:{type:Boolean,default:!1},rtl:{type:Boolean,default:!1}},methods:{mouseEnter(t){this.isCollapsed&&this.firstItem&&!this.mobileItem&&!this.item.disabled&&this.$parent.$emit("mouseEnterItem",{item:this.item,pos:t.currentTarget.getBoundingClientRect().top-this.$parent.$el.getBoundingClientRect().top,height:this.$el.offsetHeight})}}},l=i(0),r=Object(l.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vsm-item",class:[{"first-item":t.firstItem},{"mobile-item":t.mobileItem},{"open-item":t.show},{"active-item":t.active},{"parent-active-item":t.childActive}],on:{mouseenter:function(e){return t.mouseEnter(e)}}},[t.isRouterLink?[i("router-link",t._b({staticClass:"vsm-link",class:t.item.class,attrs:{to:t.item.href,disabled:t.item.disabled,tabindex:t.item.disabled?-1:""},nativeOn:{click:function(e){return t.clickEvent(e)}}},"router-link",t.item.attributes,!1),[t.item.icon?["string"==typeof t.item.icon||t.item.icon instanceof String?i("i",{staticClass:"vsm-icon",class:t.item.icon}):i(t.item.icon.element?t.item.icon.element:"i",t._b({tag:"component",staticClass:"vsm-icon",class:t.item.icon.class},"component",t.item.icon.attributes,!1),[t._v("\n          "+t._s(t.item.icon.text)+"\n        ")])]:t._e(),t._v(" "),!t.isCollapsed||t.mobileItem?[t.item.badge?i(t.item.badge.element?t.item.badge.element:"span",t._b({tag:"component",staticClass:"vsm-badge",class:t.item.badge.class,style:[t.rtl?t.item.child?{"margin-left":"30px"}:"":t.item.child?{"margin-right":"30px"}:""]},"component",t.item.badge.attributes,!1),[t._v("\n          "+t._s(t.item.badge.text)+"\n        ")]):t._e(),t._v(" "),i("span",{staticClass:"vsm-title"},[t._v(t._s(t.item.title))]),t._v(" "),t.item.child?i("div",{staticClass:"vsm-arrow",class:[{"open-arrow":t.show},{"slot-icon":t.$slots["dropdown-icon"]}]},[t._t("dropdown-icon")],2):t._e()]:t._e()],2)]:[i("a",t._b({staticClass:"vsm-link",class:t.item.class,attrs:{href:t.item.href?t.item.href:"#",disabled:t.item.disabled,tabindex:t.item.disabled?-1:""},on:{click:t.clickEvent}},"a",t.item.attributes,!1),[t.item.icon?["string"==typeof t.item.icon||t.item.icon instanceof String?i("i",{staticClass:"vsm-icon",class:t.item.icon}):i(t.item.icon.element?t.item.icon.element:"i",t._b({tag:"component",staticClass:"vsm-icon",class:t.item.icon.class},"component",t.item.icon.attributes,!1),[t._v("\n          "+t._s(t.item.icon.text)+"\n        ")])]:t._e(),t._v(" "),!t.isCollapsed||t.mobileItem?[t.item.badge?i(t.item.badge.element?t.item.badge.element:"span",t._b({tag:"component",staticClass:"vsm-badge",class:t.item.badge.class,style:[t.rtl?t.item.child?{"margin-left":"30px"}:"":t.item.child?{"margin-right":"30px"}:""]},"component",t.item.badge.attributes,!1),[t._v(t._s(t.item.badge.text))]):t._e(),t._v(" "),i("span",{staticClass:"vsm-title"},[t._v(t._s(t.item.title))]),t._v(" "),t.item.child?i("div",{staticClass:"vsm-arrow",class:[{"open-arrow":t.show},{"slot-icon":t.$slots["dropdown-icon"]}]},[t._t("dropdown-icon")],2):t._e()]:t._e()],2)],t._v(" "),t.item.child?[t.isCollapsed?t._e():[i("transition",{attrs:{name:"expand"},on:{enter:t.expandEnter,afterEnter:t.expandAfterEnter,beforeLeave:t.expandBeforeLeave}},[t.show?i("div",{staticClass:"vsm-dropdown"},[i("listItem",{attrs:{items:t.item.child,"show-child":t.showChild,rtl:t.rtl}},[t._t("dropdown-icon",null,{slot:"dropdown-icon"})],2)],1):t._e()])]]:t._e()],2)}),[],!1,null,null,null);e.default=r.exports},function(t,e,i){"use strict";var s=i(2);i.n(s).a},function(t,e,i){"use strict";i.r(e);var s=i(4),o=i(3),n=i(1),l={name:"SidebarMenu",components:{Item:s.default,ListItem:o.a},mixins:[n.a],props:{menu:{type:Array,required:!0},collapsed:{type:Boolean,default:!1},width:{type:String,default:"350px"},widthCollapsed:{type:String,default:"50px"},showChild:{type:Boolean,default:!1},theme:{type:String,default:""},showOneChild:{type:Boolean,default:!1},rtl:{type:Boolean,default:!1}},data(){return{isCollapsed:this.collapsed,mobileItem:null,mobileItemPos:0,mobileItemHeight:0,closeTimeout:null,activeShow:null,sidebarHeight:0}},computed:{sidebarWidth(){return this.isCollapsed?this.widthCollapsed:this.width}},watch:{collapsed(t){this.isCollapsed=t,this.$nextTick(()=>{this.initSidebarHeight()})}},created(){this.$on("mouseEnterItem",t=>{this.mobileItem=null,this.$nextTick(()=>{this.mobileItem=t.item,this.mobileItemPos=t.pos,this.mobileItemHeight=t.height})}),this.$on("touchClickItem",t=>{t?clearTimeout(this.closeTimeout):(this.closeTimeout&&clearTimeout(this.closeTimeout),this.closeTimeout=setTimeout(()=>{this.mouseLeave()},600))})},mounted(){this.initSidebarHeight()},methods:{mouseLeave(){this.mobileItem=null},toggleCollapse(){this.isCollapsed=!this.isCollapsed,this.$nextTick(()=>{this.initSidebarHeight()}),this.$emit("collapse",this.isCollapsed)},onActiveShow(t){this.activeShow=t},onItemClick(t,e){this.$emit("itemClick",t,e),this.$emit("item-click",t,e)},initSidebarHeight(){this.sidebarHeight=this.$el.offsetHeight}},provide(){return{emitActiveShow:this.onActiveShow,emitItemClick:this.onItemClick}}},r=(i(5),i(0)),a=Object(r.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-sidebar-menu",class:[t.isCollapsed?"vsm-collapsed":"vsm-default",t.theme,t.rtl?"rtl":""],style:{width:t.sidebarWidth},on:{mouseleave:t.mouseLeave}},[t._t("header"),t._v(" "),i("div",{staticClass:"vsm-list"},[t._l(t.menu,(function(e,s){return[e.header?[!e.visibleOnCollapse&&t.isCollapsed||!e.component?e.visibleOnCollapse||!t.isCollapsed?[i("div",t._b({key:s,staticClass:"vsm-header",class:e.class},"div",e.attributes,!1),[t._v("\n            "+t._s(e.title)+"\n          ")])]:t._e():[i(e.component,{key:s,tag:"component"})]]:i("item",{key:s,attrs:{item:e,"first-item":!0,"is-collapsed":t.isCollapsed,"active-show":t.activeShow,"show-one-child":t.showOneChild,"show-child":t.showChild,rtl:t.rtl}},[t._t("dropdown-icon",null,{slot:"dropdown-icon"})],2)]}))],2),t._v(" "),t.isCollapsed?i("div",{style:[{position:"absolute"},{top:t.mobileItemPos+"px"},t.rtl?{right:"0px"}:{left:"0px"},{"z-index":30},{width:t.width}]},[t.mobileItem?i("item",{attrs:{item:t.mobileItem,"mobile-item":!0,"is-collapsed":t.isCollapsed,"show-child":t.showChild,rtl:t.rtl}},[t._t("dropdown-icon",null,{slot:"dropdown-icon"})],2):t._e(),t._v(" "),i("transition",{attrs:{name:"slide-animation"}},[t.mobileItem?i("div",{staticClass:"vsm-mobile-bg",style:[{position:"absolute"},{left:"0px"},{right:"0px"},{top:"0px"},{height:t.mobileItemHeight+"px"}]}):t._e()]),t._v(" "),i("div",{staticClass:"vsm-dropdown",style:[{position:"absolute"},{top:t.mobileItemHeight+"px"},{left:t.rtl?"0px":t.sidebarWidth},{right:t.rtl?t.sidebarWidth:"0px"},{"max-height":"calc("+t.sidebarHeight+"px - "+(t.mobileItemPos+t.mobileItemHeight)+"px)"},{"overflow-y":"auto"}]},[i("transition",{attrs:{name:"expand"},on:{enter:t.expandEnter,afterEnter:t.expandAfterEnter,beforeLeave:t.expandBeforeLeave}},[t.mobileItem&&t.mobileItem.child?i("listItem",{attrs:{items:t.mobileItem.child,"show-child":t.showChild,rtl:t.rtl}},[t._t("dropdown-icon",null,{slot:"dropdown-icon"})],2):t._e()],1)],1)],1):t._e(),t._v(" "),t._t("footer"),t._v(" "),i("button",{staticClass:"collapse-btn",class:{"slot-icon":t.$slots["collapse-icon"]},on:{click:t.toggleCollapse}},[t._t("collapse-icon")],2)],2)}),[],!1,null,null,null).exports;i.d(e,"SidebarMenu",(function(){return a}));e.default={install(t){t.component("sidebar-menu",a)}}}])}));
//# sourceMappingURL=vue-sidebar-menu.js.map